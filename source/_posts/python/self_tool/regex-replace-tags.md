---
layout:     post
title:      "使用正则表达式替换博客模板中的tags标签"
cover: "/img/lynk/86.jpg"
date:       2021-03-12
author:     "victor"
tags:
    - regex
---


事情是这样的

小编原来的博客是jeklly格式的模板

所以tag是用空格区分的,类似这样的

![](QQ截图20210305231310.png)

而新的hexo的格式要求是这样的

![](QQ截图20210305231321.png)

正则表达式如下

```
(\ntags:.*) (\w+)\n
```

```
$1\n\t- $2\n
```

匹配思路为从后面一个tag开始替换,直到替换完所有tags

然后,在idea中批量替换,就可以了,多点几次

你点的次数就是,含有最多tag的一篇文章的数量

![](微信图片_20210305231151.png)
![](微信图片_20210305231157.png)
![](微信图片_20210305231203.png)


查看一下一共替换了文件 319个,这要是让我一下一下改,这还不得改到死


![](微信图片_20210305231837.jpg)


![](QQ截图20210305231125.png)


> 你以为这就完了
>

```
(\ntags:.*   \w+) +\n
```



```
$1\n
```
有的tag后面有空格

需要先去掉

一下吓一跳,还有这么多没替换呢

![](QQ截图20210305232555.png)

然后重复执行前面的操作

![](QQ截图20210305232828.png)

继续替换


![](QQ截图20210305232850.png)

知道他没有查询到匹配的内容

![](QQ截图20210305232915.png)

然后你以为这样就结束了?

我又发现我还有中文的tag


所以我又优化了一个版本



```
(\ntags:.*) (\S+)\n
```

```
$1\n\t- $2\n
```

这回可真的没了
